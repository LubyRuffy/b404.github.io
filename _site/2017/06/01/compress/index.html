<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>压缩</title>
    <meta name="description" content="压缩的基本内容和实际例子操作">

    <link rel="shortcut icon" href="/favicon.ico?" type="image/x-icon">
    <link rel="icon" href="/favicon.ico?" type="image/x-icon">
    <link rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_8v3czwksspqlg14i.css">
    <link rel="stylesheet" href="/css/main.css ">
    <link rel="canonical" href="http://localhost:4000/2017/06/01/compress/">
    <link rel="alternate" type="application/rss+xml" title="Jirairya" href="http://localhost:4000/feed.xml ">


    <script>
    // 百度统计代码
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?973906e37cc7bcb6714807627cf64ec6";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
    </script>


    <script>
    // google analytics
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-111240288-1', 'auto');
      ga('send', 'pageview');

    </script>



</head>


  <body>

    <header id="top">
    <div class="wrapper">
        <a href="/" class="brand">Jirairya</a>
        <small></small>
        <button id="headerMenu" class="menu"><i class="fa fa-bars"></i></button>
        <nav id="headerNav">
            <ul>
                <li>
                    
                    <a href="/">
                    
                        <i class="fa fa-home"></i>Home
                    </a>
                </li>

                
                    
                    <li>
                        
                        <a href="/archive/">
                        
                            <i class="fa fa-archive"></i>Archives
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/category/">
                        
                            <i class="fa fa-th-list"></i>Categories
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/tag/">
                        
                            <i class="fa fa-tags"></i>Tags
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/collections/">
                        
                            <i class="fa fa-folder-open"></i>Collections
                        </a>
                    </li>
                    
                
                    
                
                    
                    <li>
                        
                        <a href="/skills/">
                        
                            <i class="fa fa-bezier-curve"></i>Skills
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/tools/">
                        
                            <i class="fa fa-toolbox"></i>Tools
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/about/">
                        
                            <i class="fa fa-paper-plane"></i>About
                        </a>
                    </li>
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </ul>
        </nav>
    </div>
</header>


        <div class="page clearfix" post>
    <div class="left">
        <h1>压缩</h1>
        <div class="label">

            <div class="label-card">
                <i class="fa fa-calendar"></i>2017-06-01
            </div>

            <div class="label-card">
                
            </div>

            <div class="label-card">
                
            </div>

            <div class="label-card">
            


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#ReverseCore" title="Category: ReverseCore" rel="category">ReverseCore</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


            </div>

            <div class="label-card">
            
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <!--a href="/tag/#reading-notes" title="Tag: reading-notes" rel="tag">reading-notes</a-->
        <a href="/tag/#reading-notes" title="Tag: reading-notes" rel="tag">reading-notes</a>&nbsp;
    
        <!--a href="/tag/#reverse" title="Tag: reverse" rel="tag">reverse</a-->
        <a href="/tag/#reverse" title="Tag: reverse" rel="tag">reverse</a>
    
  

</span>

            </div>

        </div>
        <hr>
        <article itemscope itemtype="http://schema.org/BlogPosting">
        <p>压缩的基本内容和实际例子操作</p>

<ul id="markdown-toc">
  <li><a href="#运行时压缩器" id="markdown-toc-运行时压缩器">运行时压缩器</a></li>
  <li><a href="#调试upx压缩的notepad程序" id="markdown-toc-调试upx压缩的notepad程序">调试UPX压缩的notepad程序</a></li>
  <li><a href="#跟踪upx文件" id="markdown-toc-跟踪upx文件">跟踪UPX文件</a></li>
  <li><a href="#快速查找upx-oep" id="markdown-toc-快速查找upx-oep">快速查找UPX OEP</a>    <ul>
      <li><a href="#在popad指令后的jmp指令处设置断点" id="markdown-toc-在popad指令后的jmp指令处设置断点">在POPAD指令后的JMP指令处设置断点</a></li>
      <li><a href="#在栈中设置硬件断点" id="markdown-toc-在栈中设置硬件断点">在栈中设置硬件断点</a></li>
    </ul>
  </li>
</ul>

<!--more-->

<h2 id="运行时压缩器">运行时压缩器</h2>

<p>运行时压缩器是针对可执行(PE)文件而言的，可执行文件内部含有解压缩代码，文件在运行瞬间于内存 中解压缩后执行。</p>

<p>运行时压缩文件也是PE文件，内部含有原PE文件与解码程序。在程序的EP代码中执行解码程序，同时在内存中解压缩后执行。</p>

<table>
  <thead>
    <tr>
      <th>项目</th>
      <th>普通压缩</th>
      <th>运行时压缩</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>对象文件</td>
      <td>所有文件</td>
      <td>PE文件(exe、dll、sys)</td>
    </tr>
    <tr>
      <td>压缩结果</td>
      <td>压缩文件(zip、rar)</td>
      <td>PE文件(exe、dll、sys)</td>
    </tr>
    <tr>
      <td>解压缩方式</td>
      <td>使用专门解压缩程序</td>
      <td>内部含有解码程序</td>
    </tr>
    <tr>
      <td>文件是否可执行</td>
      <td>本身不可执行</td>
      <td>本身可执行</td>
    </tr>
    <tr>
      <td>优点</td>
      <td>对所有文件高压缩率压缩</td>
      <td>无需解压程序解压就可运行</td>
    </tr>
    <tr>
      <td>缺点</td>
      <td>若无专门解压缩软件则无法使用压缩文件</td>
      <td>每次运行时均需要调用解码程序导致运行时间很长</td>
    </tr>
  </tbody>
</table>

<p>把普通PE文件创建成运行时压缩文件的实用程序称为“压缩器”(Packer),经反逆向技术特别处理的压缩器称为保护器(Protector)</p>

<h2 id="调试upx压缩的notepad程序">调试UPX压缩的notepad程序</h2>

<p><strong>0x01 压缩前notepad.exe程序的EP代码：</strong></p>

<p><img src="/img/reversecore_assets/压缩/notepad.exe的EP代码.png" alt="notepad.exe的EP代码.png" /></p>

<p><code class="highlighter-rouge">010073B2</code>地址处调用了<code class="highlighter-rouge">GetModuleHandleA()</code>API，获取notepad.exe程序的ImageBase。然后在<code class="highlighter-rouge">010073B4</code>与<code class="highlighter-rouge">010073C0</code>地址处比较MZ与PE签名。</p>

<p><strong>0x02 使用UPX压缩notepad</strong></p>

<p>使用OD打开有弹窗告警：</p>

<p><img src="/img/reversecore_assets/压缩/OD警告消息框.png" alt="OD警告消息框.png" /></p>

<p>选择“是”之后，出现以下：</p>

<p><img src="/img/reversecore_assets/压缩/notepad_upx.exe的EP代码.png" alt="notepad_upx.exe的EP代码.png" /></p>

<p>EP地址为<code class="highlighter-rouge">01015330</code>，该处即为第二个节区的末端部分。实际压缩的notepad源码存在于EP(01015330)的上方。</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mo">01015330</span> <span class="o">&gt;</span> <span class="err">$</span>  <span class="mi">60</span>            <span class="n">pushad</span>
<span class="mo">01015331</span>   <span class="p">.</span>  <span class="n">BE</span> <span class="mo">00100101</span>   <span class="n">mov</span> <span class="n">esi</span><span class="p">,</span><span class="mh">0x1011000</span>
<span class="mo">01015336</span>   <span class="p">.</span>  <span class="mi">8</span><span class="n">DBE</span> <span class="mo">0000</span><span class="n">FFFF</span> <span class="n">lea</span> <span class="n">edi</span><span class="p">,</span><span class="n">dword</span> <span class="n">ptr</span> <span class="n">ds</span><span class="o">:</span><span class="p">[</span><span class="n">esi</span><span class="o">-</span><span class="mh">0x10000</span><span class="p">]</span>
</code></pre></div></div>

<p>首先使用pushed命令将eax~edi寄存器的值保存到栈，然后分别把第二个节区的起始地址(01011000)与第一个节区的起始地址(01001000)设置到ESI与EDI寄存器。UPX文件第一个节区仅存于内存。该处即是解压缩后保存源文件代码的地方。</p>

<p>调试时像这样设置ESI和EDI，就能预见ESI所指缓冲区到EDI所指缓冲区的内存发生复制。此时，从源地址（ESI）读取数据，解压缩后保存到目标地址(EDI)。跟踪上图全部UPX EP代码，并最终找到原notepad的EP代码。。</p>

<h2 id="跟踪upx文件">跟踪UPX文件</h2>

<p>跟踪代码，跟踪数量庞大的代码时，遵循：“遇到循环，先了解作用再跳出”的法则。</p>

<table>
  <thead>
    <tr>
      <th>命令</th>
      <th>快捷键</th>
      <th>说明</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Animate Into</td>
      <td>Ctrl+F7</td>
      <td>反复执行Step Into命令（画面显示）</td>
    </tr>
    <tr>
      <td>Animate Over</td>
      <td>Ctrl+F8</td>
      <td>反复执行Step Over命令（画面显示）</td>
    </tr>
    <tr>
      <td>Trace Into</td>
      <td>Ctrl+F11</td>
      <td>反复执行Step Into命令（画面不显示）</td>
    </tr>
    <tr>
      <td>Trace Over</td>
      <td>Ctrl+F12</td>
      <td>反复执行Step Over命令（画面不显示）</td>
    </tr>
  </tbody>
</table>

<p>除了画面显示的之外，Animate命令与跟踪命令是类似的，由于Animate命令要把跟踪过程显示在画面中，执行速度略慢。而跟踪命令会自动在事先设置的跟踪条件处停下来，并生成日志文件。在UPX文件跟踪中将使用Animate Over(Ctrl +F8)命令</p>

<p><strong>0x03第一个循环</strong></p>

<p>在EP代码处执行Animate Over（Ctrl+F8）跟踪代码，光标上下快速移动（按F7可停止跟踪）</p>

<p><img src="/img/reversecore_assets/压缩/第一个循环.png" alt="第一个循环.png" /></p>

<p>循环次数ECX=36B，循环内容为“从EDX（01001000）中读取一个字节写入EDI(01001001)”。EDI寄存器所指的<code class="highlighter-rouge">01001000</code>地址即是第一个节区(UPX0)的起始地址，仅存于内存中的节区（内容全部为NULL）</p>

<p>调试经过运行时压缩的文件时，遇到这样的循环应该跳出来。在<code class="highlighter-rouge">010153E6</code>地址处按F2下断点，按F9跳出循环。</p>

<p><strong>0x04第二个循环</strong></p>

<p>在断点处再次使用Animate Over(Ctrl+F8)命令继续跟踪代码：</p>

<p><img src="/img/reversecore_assets/压缩/第二个循环.png" alt="第二个循环.png" /></p>

<p>该循环为正式的解码循环（解压缩）</p>

<p>先从ESI所指的第二个节区（UPX1）地址中依次读取值，经过适当的运算解压缩后，将值写入EDI所指的第一个节区(UPX0)地址。该过程中使用指令如下：</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mo">0101534</span><span class="n">B</span>   <span class="p">.</span>  <span class="mi">8807</span>          <span class="n">mov</span> <span class="n">byte</span> <span class="n">ptr</span> <span class="n">ds</span><span class="o">:</span><span class="p">[</span><span class="n">edi</span><span class="p">],</span><span class="n">al</span>
<span class="mo">0101534</span><span class="n">D</span>   <span class="p">.</span>  <span class="mi">47</span>            <span class="n">inc</span> <span class="n">edi</span>
<span class="p">...</span>
<span class="mf">010153E0</span>   <span class="p">.</span>  <span class="mi">8807</span>          <span class="n">mov</span> <span class="n">byte</span> <span class="n">ptr</span> <span class="n">ds</span><span class="o">:</span><span class="p">[</span><span class="n">edi</span><span class="p">],</span><span class="n">al</span>
<span class="mf">010153E2</span>   <span class="p">.</span>  <span class="mi">47</span>            <span class="n">inc</span> <span class="n">edi</span>
<span class="p">...</span>
<span class="mo">010153</span><span class="n">F1</span>   <span class="p">.</span>  <span class="mi">8907</span>          <span class="n">mov</span> <span class="n">dword</span> <span class="n">ptr</span> <span class="n">ds</span><span class="o">:</span><span class="p">[</span><span class="n">edi</span><span class="p">],</span><span class="n">eax</span>
<span class="mo">010153</span><span class="n">F3</span>   <span class="p">.</span>  <span class="mi">83</span><span class="n">C7</span> <span class="mo">04</span>       <span class="n">add</span> <span class="n">edi</span><span class="p">,</span><span class="mh">0x4</span>
</code></pre></div></div>

<blockquote>
  <p>解压缩后的数据在AL(EAX)中，EDI指向第一个节区的地址</p>
</blockquote>

<p>只要在<code class="highlighter-rouge">01015402</code>地址处F2设置号断点之后再运行即可跳出第二个循环。运行到<code class="highlighter-rouge">01015402</code>地址后，在转储窗口可看到解压缩后的代码已被写入第一个节区(UPX0，起始地址为<code class="highlighter-rouge">01011000</code>)</p>

<p><strong>0x05第三个循环：</strong></p>

<p>继续跟踪代码，遇到第三个循环：</p>

<p><img src="/img/reversecore_assets/压缩/第三个循环.png" alt="第三个循环.png" /></p>

<p>该段循环代码用于恢复源码的CALL/JMP指令(操作码E8/E9)的destination地址。在<code class="highlighter-rouge">01015436</code>地址处设置断点运行后即可跳出循环。</p>

<blockquote>
  <p>到此只要设置IAT，UPX解压缩代码就结束。对于普通运行时压缩软件，源文件代码、数据、资源解压缩之后，先设置好IAT再转到OEP（源文件的EP）</p>
</blockquote>

<p><strong>0x06第四个循环：</strong></p>

<p>继续跟踪代码：</p>

<p><img src="/img/reversecore_assets/压缩/第四个循环.png" alt="第四个循环.png" /></p>

<p>图中循环为IAT循环。在<code class="highlighter-rouge">01015436</code>地址处设置EDI=01014000，它指向第二个节区(UPX1)区域，该区域中保存着原notepa.exe程序调用的API函数名称的字符串。</p>

<p><img src="/img/reversecore_assets/压缩/API名称字符串.png" alt="API名称字符串.png" /></p>

<p>UPX压缩原notepad.exe文件时，会分析其IAT，提取出程序中调用的API名称列表，形成API名称字符串。
用这些API名称字符串调用<code class="highlighter-rouge">01015467</code>地址处的<code class="highlighter-rouge">GetProcAddress()</code>函数，获取API的起始地址，然后把API地址输入EBX寄存器所指的原notepad.exe的IAT区域。该过程会反复进行至API名称字符串结束，最终恢复原notepad.exe的IAT。
notepad全部解压缩完之后，将程序的控制返回到OEP处。</p>

<p><img src="/img/reversecore_assets/压缩/JUMPtoOEP.png" alt="JUMP to OEP.png" /></p>

<p><code class="highlighter-rouge">010154AD</code>地址处的POPAD命令与UPX代码的第一条PUSHAD命令对应，用来把当前寄存器恢复原状。
最终，使用<code class="highlighter-rouge">010154BB</code>地址处的JMP命令跳转到OEP处，要跳转到的目标地址为<code class="highlighter-rouge">0100739D</code>，这就是原文件的EP地址。</p>

<h2 id="快速查找upx-oep">快速查找UPX OEP</h2>

<h3 id="在popad指令后的jmp指令处设置断点">在POPAD指令后的JMP指令处设置断点</h3>

<p>UPX压缩器的特征之一是，其EP代码被包含在PUSHAD/POPAD指令之间。并且，跳转到OEP代码的JMP指令紧接着出现在POPAD指令之后。只要在JMP指令处设置好断点，运行后就能直接找到OEP。</p>

<blockquote>
  <p>PUSHAD指令将8个通用寄存器(EAX~EDI)的值保存到栈中
POPAD指令把PUSHAD命令存储在栈的值再次恢复到各个寄存器。</p>
</blockquote>

<h3 id="在栈中设置硬件断点">在栈中设置硬件断点</h3>

<p>在<code class="highlighter-rouge">01015330</code>处执行PUSHAD命令后，查看栈。（用ESP定律直接查看ESP值）</p>

<p><img src="/img/reversecore_assets/压缩/ESP值.png" alt="ESP值.png" /></p>

<p>EAX到EDI寄存器的值依次存入栈中。从OD的Dump窗口进入栈地址<code class="highlighter-rouge">0006FF6C</code>。定位到该地址，使用右键设置硬件断点(硬件访问-&gt;Word)。</p>

<p><img src="/img/reversecore_assets/压缩/设置硬件断点.png" alt="设置硬件断点.png" /></p>

<p>然后按F9运行到达POPAD处，就可以找到jmp指令，即找到OEP</p>

<p><img src="/img/reversecore_assets/压缩/JUMPtoOEP.png" alt="JUMP to OEP.png" /></p>

<blockquote>
  <p>硬件断点是CPU支持的断点，最多可以设置4个断点。与普通断点不同，设置断点的指令执行完成后才暂停调试。在这种状态下运行，程序会边解压缩边执行代码，在执行POPAD的瞬间访问设置有硬件断点的<code class="highlighter-rouge">0006FF6C</code>地址，然后暂停调试。其下方就跳转到OEP的JMP指令。</p>
</blockquote>

<p><strong>ESP定律 ：</strong></p>
<ol>
  <li>打开程序，F8运行，观察ESP寄存器是否突显（变红色）（执行pushad指令之后的第一个ESP值）</li>
  <li>在命令行下，输入：dd ESP值，跳转到该地址</li>
  <li>在该地址处设置断点：断点-&gt;硬件访问断点-&gt;WORD断点</li>
  <li>按F9运行之后，就可以达到popad处，找到JMP指令处，就找到OEP</li>
</ol>


        </article>
        <hr>

        
        
            
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
        
            
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
        
            
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
        
            
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
        
            
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
        
            
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
        
            
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
        
            
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
        
            
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
        
            
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
        
        

        <div class="post-recent">
    <div class="pre">
        
        <p><strong>上一篇</strong> <a href="/2017/05/09/Analysis-HelloWorld-PE-Format/">PE之HelloWorld的PE文件格式解析</a></p>
        
    </div>
    <div class="nex">

        
        <p><strong>下一篇</strong> <a href="/2017/06/02/Base-Relocation-Table/">基址重定位表</a></p>
        
    </div>
</div>


        <h2 id="comments">Comments</h2>
        


<div id="disqus_thread"></div>
<script>
    /**
     * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */

    var disqus_config = function() {
        this.page.url = 'http://localhost:4000/2017/06/01/compress/'; // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'http://localhost:4000/2017/06/01/compress/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };

    (function() { // DON'T EDIT BELOW THIS LINE
        var d = document,
            s = d.createElement('script');

        s.src = '//http-b404-xyz.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>




    </div>
    <button class="anchor"><i class="fa fa-anchor"></i></button>
    <div class="right">
        <div class="wrap">

            <!-- Content -->
            <div class="side content">
                <div>
                    Content
                </div>
                <ul id="content-side" class="content-ul">
                    
                    <li><a href="#comments">Comments</a></li>
                </ul>
            </div>
            <!-- 其他div框放到这里 -->
            <!-- <div class="side">bbbb</div> -->
        </div>
    </div>
</div>
<script>
/**
 * target _blank
 */
(function() {
    var aTags = document.querySelectorAll('article a:not([id])')
    for (var i = 0; i < aTags.length; i++) {
        aTags[i].setAttribute('target', '_blank')
    }
}());
</script>
<script src="/js/pageContent.js " charset="utf-8"></script>


    <footer class="site-footer">


    <div class="wrapper">

        <p class="description">
             The quieter you become, the more you can hear. 
        </p>

        <br>
        <p class="contact">
             
            <a href="https://github.com/9jan" title="GitHub"><i class="fa fa-github" aria-hidden="true"></i></a>  
            <a href="mailto:jirairya404@gmail.com" title="email"><i class="fa fa-envelope-o" aria-hidden="true"></i></a>        
            
        </p>
        <!--
        <p>
            本站总访问量<span id="busuanzi_value_site_pv"></span>次，本站访客数<span id="busuanzi_value_site_uv"></span>人次，本文总阅读量<span id="busuanzi_value_page_pv"></span>次
        </p>
    -->
        <p class="power">
            <span>
                Site powered by <a href="https://jekyllrb.com/">Jekyll</a>
            </span>
        </p>
    </div>
</footer>
<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

    <div class="back-to-top">
    <a href="#top" data-scroll>
        <i class="fa fa-arrow-up" aria-hidden="true"></i>
    </a>
</div>

    <script src=" /js/main.js " charset="utf-8"></script>
    <script src=" /js/smooth-scroll.min.js " charset="utf-8"></script>
    <script type="text/javascript">
      smoothScroll.init({
        speed: 500, // Integer. How fast to complete the scroll in milliseconds
        easing: 'easeInOutCubic', // Easing pattern to use
        offset: 20, // Integer. How far to offset the scrolling anchor location in pixels
      });
    </script>
    <!-- <script src=" /js/scroll.min.js " charset="utf-8"></script> -->
  </body>

</html>
